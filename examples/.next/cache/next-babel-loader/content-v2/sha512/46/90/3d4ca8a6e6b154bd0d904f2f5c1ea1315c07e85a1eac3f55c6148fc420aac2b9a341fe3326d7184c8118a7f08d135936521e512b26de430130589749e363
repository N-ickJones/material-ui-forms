{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/Users/armyj/Documents/GitHub/node_library/material-ui-forms/examples/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\armyj\\\\Documents\\\\GitHub\\\\node_library\\\\material-ui-forms\\\\examples\\\\src\\\\components\\\\FormView.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { Backdrop, Box, Button, CircularProgress, createStyles, Divider, Grid, makeStyles, Paper, Snackbar, Typography } from '@material-ui/core';\nimport { Lock, LockOpen } from '@material-ui/icons';\nimport { Alert } from '@material-ui/lab';\nimport { decrypt, encrypt, uuidv4 } from 'material-ui-forms';\nimport { useWarnIfUnsavedChanges } from 'material-ui-forms';\nimport { AlertDialog } from 'material-ui-forms';\nimport { AlertDialogButton } from 'material-ui-forms';\nimport { PrintButton } from 'material-ui-forms';\nimport { useMuiPrinting } from 'material-ui-forms';\nconst useStyles = makeStyles(theme => createStyles({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff'\n  },\n  displayNone: {\n    display: \"none\"\n  },\n  marginOne: {\n    margin: \"0.25em\"\n  },\n  marginLeftAuto: {\n    marginLeft: \"auto\"\n  },\n  marginOneLeftAuto: {\n    margin: \"0.25em 0.25em 0.25em auto\"\n  },\n  paddingThree: {\n    padding: \"1em\"\n  },\n  marginYThree: {\n    marginTop: \"1em\",\n    marginBottom: \"1em\"\n  },\n  submitButton: {\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    display: \"flex\",\n    width: \"50%\",\n    marginBottom: \"1em\"\n  },\n  fullWidth: {\n    width: \"100%\"\n  }\n}));\nexport function FormView(props) {\n  _s();\n\n  const localStorageKey = props.title ? props.title.replace(\" \", \"\") : uuidv4();\n  const classes = useStyles(); //const printComponentRef = useRef();\n\n  const {\n    0: locked,\n    1: setLocked\n  } = useState(props.defaultLocked === undefined ? false : props.defaultLocked ? props.hideLockButton ? false : true : false); //const [printMode, setPrintMode] = useState(false);\n\n  const {\n    0: pendingChanges,\n    1: setPendingChanges\n  } = useState(false);\n  const {\n    0: loadLocal,\n    1: setLoadLocal\n  } = useState(false);\n  const {\n    0: loadServer,\n    1: setLoadServer\n  } = useState(false);\n  const autoHideDuration = 8000;\n  const {\n    0: alert,\n    1: setAlert\n  } = useState({\n    open: false,\n    message: \"\",\n    autoHideDuration: autoHideDuration,\n    origin: {\n      vertical: \"bottom\",\n      horizontal: \"right\"\n    }\n  });\n  const error = {\n    open: true,\n    autoHideDuration: autoHideDuration,\n    severity: \"error\",\n    origin: {\n      vertical: \"bottom\",\n      horizontal: \"left\"\n    }\n  };\n  const success = {\n    open: true,\n    autoHideDuration: autoHideDuration,\n    severity: \"success\",\n    origin: {\n      vertical: \"bottom\",\n      horizontal: \"right\"\n    }\n  };\n  useWarnIfUnsavedChanges(pendingChanges);\n  const [paperStyle, printComponentRef, printMode, displayPrint, handlePrintRef] = useMuiPrinting();\n  useEffect(() => {\n    async function loadData() {\n      if (localStorage.getItem(localStorageKey)) {\n        setLoadLocal(true);\n      } else {\n        setLoadServer(true);\n        props.handleLoad && (await props.handleLoad(false));\n        setLoadServer(false);\n      }\n    }\n\n    loadData();\n  }, []);\n\n  const onChange = (e, index, property, value) => {\n    if (locked) return;\n    if (props.forms) props.forms[index] = _objectSpread(_objectSpread({}, props.forms[index]), {}, {\n      [property]: value\n    });\n    !pendingChanges && setPendingChanges(true);\n  };\n\n  const onChangeList = async (index, listProperty, listIndex, property, value) => {\n    if (locked) return; // @ts-ignore\n\n    props.forms[index][listProperty][listIndex] = _objectSpread(_objectSpread({}, props.forms[index][listProperty][listIndex]), {}, {\n      [property]: value\n    });\n    !pendingChanges && setPendingChanges(true);\n  };\n\n  const handleAddList = async (index, listProperty) => {\n    if (locked) return; // @ts-ignore\n\n    let listIndex = props.forms[index][listProperty].length; // @ts-ignore\n\n    props.forms[index][listProperty][listIndex] = _objectSpread({}, props.forms[index][listProperty][listIndex]);\n    await handleChanges();\n  };\n\n  const handleDeleteList = async (index, listProperty, listIndex) => {\n    if (locked) return; // @ts-ignore\n\n    props.forms[index][listProperty] = props.forms[index][listProperty].filter((_, i) => i !== listIndex);\n    await handleChanges();\n    clearLocalStorage();\n  };\n\n  const handleLock = async () => {\n    setLocked(!locked);\n  };\n\n  const handleChanges = async () => {\n    if (locked) return;\n\n    if (props.handleSaveChanges && (await props.handleSaveChanges())) {\n      setAlert(_objectSpread(_objectSpread({}, success), {}, {\n        message: \"Successfully saved your changes locally.\"\n      }));\n      setPendingChanges(false);\n    } else {\n      setAlert(_objectSpread(_objectSpread({}, success), {}, {\n        message: \"Unable to save your changes locally.\"\n      }));\n    }\n  };\n\n  const handleLocalLoad = async submit => {\n    if (submit) {\n      var cipherText = localStorage.getItem(localStorageKey);\n\n      if (cipherText !== null) {\n        const plainText = decrypt(cipherText, localStorageKey);\n\n        if (props.handleLoad && (await props.handleLoad(true, JSON.parse(plainText)))) {\n          setAlert(_objectSpread(_objectSpread({}, success), {}, {\n            message: \"Successfully loaded previous changes.\"\n          }));\n        } else {\n          setAlert(_objectSpread(_objectSpread({}, error), {}, {\n            message: \"Unable to load previous changes.\"\n          }));\n        }\n      }\n    } else {\n      clearLocalStorage();\n      setLoadServer(true);\n\n      if (props.handleLoad && (await props.handleLoad(false))) {\n        setAlert(_objectSpread(_objectSpread({}, success), {}, {\n          message: \"Successfully loaded your information.\"\n        }));\n      } else {\n        setAlert(_objectSpread(_objectSpread({}, error), {}, {\n          message: \"Unable to load your information.\"\n        }));\n      }\n\n      setLoadServer(false);\n    }\n\n    setLoadLocal(false);\n  };\n\n  const handleLocalChanges = async () => {\n    if (locked) return;\n    props.forms && localStorage.setItem(localStorageKey, encrypt(JSON.stringify([...props.forms]), localStorageKey));\n    handleChanges();\n  };\n\n  const handleSubmit = async () => {\n    if (locked) return;\n\n    if (!pendingChanges) {\n      if (props.forms && props.minNodes && props.forms.length >= props.minNodes) {\n        props.onNext && props.onNext();\n        return;\n      }\n    }\n\n    if (props.handleSubmit) {\n      if (!(await formValid())) {\n        setAlert(_objectSpread(_objectSpread({}, error), {}, {\n          message: \"A validation error was detected in the form\"\n        }));\n      } else if (await props.handleSubmit()) {\n        if (props.minNodes && props.forms && props.forms.length < props.minNodes) {\n          setAlert(_objectSpread(_objectSpread({}, error), {}, {\n            message: props.minNodes <= 1 ? `${props.minNodes} submission is required` : `${props.minNodes} submissions are required`\n          }));\n        } else {\n          clearLocalStorage();\n          setAlert(_objectSpread(_objectSpread({}, success), {}, {\n            message: \"Successfully sent changes to the server\"\n          }));\n          setPendingChanges(false);\n          props.onNext && (await props.onNext());\n        }\n      } else {\n        setAlert(_objectSpread(_objectSpread({}, error), {}, {\n          message: \"Unsuccessfully sent changes to the server\"\n        }));\n      }\n    }\n  };\n\n  const formValid = async () => {\n    const inputs = document.getElementsByTagName('input');\n\n    for (let i = 0; i < inputs.length; i++) {\n      const input = inputs[i];\n\n      if (input.hasAttribute('aria-invalid') && input.getAttribute('aria-invalid') === \"true\") {\n        const parent = input.parentElement;\n        if (parent) parent.classList.add('Mui-focused');\n        return false;\n      }\n\n      if (input.hasAttribute('required') && input.value === \"\") {\n        const inputParent = input.parentElement; //Outer Div\n\n        if (inputParent) {\n          inputParent.classList.add('Mui-focused', 'Mui-error'); //Outer Label\n\n          const componentParent = inputParent.parentElement;\n\n          if (componentParent) {\n            var _componentParent$firs;\n\n            (_componentParent$firs = componentParent.firstElementChild) === null || _componentParent$firs === void 0 ? void 0 : _componentParent$firs.classList.add('Mui-focused', 'Mui-error');\n          }\n        }\n\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const handleDelete = async index => {\n    if (locked) return;\n\n    if (props.handleDelete) {\n      if (await props.handleDelete(index)) {\n        clearLocalStorage();\n        setAlert(_objectSpread(_objectSpread({}, success), {}, {\n          message: \"Successfully deleted the item.\"\n        }));\n      } else {\n        setAlert(_objectSpread(_objectSpread({}, error), {}, {\n          message: \"Unable to delete the item.\"\n        }));\n      }\n    }\n  };\n\n  function clearLocalStorage() {\n    if (localStorage.getItem(localStorageKey) !== null) localStorage.removeItem(localStorageKey);\n  }\n\n  const handleCloseAlert = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setAlert(_objectSpread(_objectSpread({}, alert), {}, {\n      open: false\n    }));\n  };\n\n  if (loadLocal) {\n    return /*#__PURE__*/_jsxDEV(AlertDialog, {\n      id: \"loadingLocal\",\n      title: \"Would you like to load your previous session?\",\n      description: \"Selecting Cancel will remove your previous session.\",\n      color: \"primary\",\n      backLabel: \"Cancel\",\n      forwardLabel: \"Continue\",\n      onSubmit: handleLocalLoad,\n      backOnOutsideClick: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 13\n    }, this);\n  } else if (loadServer) {\n    return /*#__PURE__*/_jsxDEV(Backdrop, {\n      className: classes.backdrop,\n      open: true,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        open: alert.open,\n        autoHideDuration: alert.autoHideDuration,\n        onClose: handleCloseAlert,\n        anchorOrigin: alert.origin,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          severity: alert.severity,\n          children: alert.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: 1,\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: \"space-between\",\n        children: [/*#__PURE__*/_jsxDEV(AlertDialogButton, {\n          id: \"refreshForm\",\n          className: props.hideLockButton ? classes.displayNone : \"\",\n          label: locked ? /*#__PURE__*/_jsxDEV(Lock, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 41\n          }, this) : /*#__PURE__*/_jsxDEV(LockOpen, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 68\n          }, this),\n          title: locked ? \"Unlock this form\" : \"Lock this form\",\n          description: locked ? \"Unlocking this form will allow you to make changes.\" : \"Lock this form to prevent unwanted changes.\",\n          color: \"primary\",\n          backLabel: \"Cancel\",\n          forwardLabel: locked ? \"Unlock\" : \"Lock\",\n          onSubmit: handleLock\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(AlertDialogButton, {\n            id: \"saveForm\",\n            className: locked || props.hideSaveProgressButton ? classes.displayNone : \"\",\n            label: \"Save Progress\",\n            title: \"You have selected to save your current process locally.\",\n            description: \"Warning: If you have local storage disabled then your changes \\r will not be saved and deleting your local storage will erase this data.\",\n            color: \"primary\",\n            backLabel: \"Cancel\",\n            forwardLabel: \"Save Locally\",\n            onSubmit: handleLocalChanges,\n            disabled: props.handleSaveChanges === undefined\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            ml: 1,\n            children: /*#__PURE__*/_jsxDEV(PrintButton, {\n              className: locked || props.hidePrintButton ? classes.displayNone : \"\",\n              displayPrint: displayPrint\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        className: printMode ? \"\" : classes.paddingThree,\n        ref: printComponentRef,\n        style: printMode ? paperStyle : {},\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h3\",\n            align: \"center\",\n            children: props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Divider, {\n            className: classes.marginYThree\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 3,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [props.forms && props.forms.map((item, index) => {\n              const key = props.handleGenerateKey ? props.handleGenerateKey(item) : `${localStorageKey}${index}`;\n\n              if (props.FormElement) {\n                return /*#__PURE__*/_jsxDEV(props.FormElement, {\n                  index: index,\n                  locked: locked,\n                  printMode: printMode,\n                  values: item,\n                  handleAddList: handleAddList,\n                  handleDelete: handleDelete,\n                  handleDeleteList: handleDeleteList,\n                  handlePrintRef: handlePrintRef,\n                  onChangeList: onChangeList,\n                  onChange: onChange\n                }, key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 41\n                }, this);\n              } else {\n                return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n              }\n            }), props.forms && props.forms.length < 1 && /*#__PURE__*/_jsxDEV(Grid, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                align: \"center\",\n                className: classes.paddingThree,\n                children: \"There are currently no forms to edit.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 33\n            }, this), !props.FormElement && /*#__PURE__*/_jsxDEV(Grid, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                align: \"center\",\n                className: classes.paddingThree,\n                children: \"Development Error: Form Element is not defined.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 58\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 52\n            }, this), !props.forms && /*#__PURE__*/_jsxDEV(Grid, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                align: \"center\",\n                className: classes.paddingThree,\n                children: \"Development Error: Forms is not defined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 46\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            children: [props.forms && props.forms.length < (props.maxNodes ? props.maxNodes : 1) && /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: !locked ? classes.marginLeftAuto : classes.displayNone,\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: props.handleAddNewItem,\n                children: \"Add New Item\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              style: {}\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            style: locked || props.submitButtonRef ? {\n              display: \"none\"\n            } : {},\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: /*#__PURE__*/_jsxDEV(AlertDialogButton, {\n                submitButtonRef: props.submitButtonRef,\n                id: \"saveForm\",\n                className: classes.submitButton,\n                btnStyle: {\n                  width: \"100%\"\n                },\n                label: \"Submit\",\n                title: \"You have selected to submit your information.\",\n                description: \"This action will save this information to your user account.\",\n                color: \"primary\",\n                backLabel: \"Cancel\",\n                forwardLabel: \"Submit\",\n                onSubmit: handleSubmit,\n                disabled: props.handleSubmit === undefined || locked,\n                pendingChanges: pendingChanges,\n                allowSkip: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }, this);\n  }\n}\n/*\r\n.padding-xs { padding: .25em; }\r\n.padding-sm { padding: .5em; }\r\n.padding-md { padding: 1em; }\r\n.padding-lg { padding: 1.5em; }\r\n.padding-xl { padding: 3em; }\r\n\r\n.padding-x-xs { padding: .25em 0; }\r\n.padding-x-sm { padding: .5em 0; }\r\n.padding-x-md { padding: 1em 0; }\r\n.padding-x-lg { padding: 1.5em 0; }\r\n.padding-x-xl { padding: 3em 0; }\r\n\r\n.padding-y-xs { padding: 0 .25em; }\r\n.padding-y-sm { padding: 0 .5em; }\r\n.padding-y-md { padding: 0 1em; }\r\n.padding-y-lg { padding: 0 1.5em; }\r\n.padding-y-xl { padding: 0 3em; }\r\n\r\n.padding-top-xs { padding-top: .25em; }\r\n.padding-top-sm { padding-top: .5em; }\r\n.padding-top-md { padding-top: 1em; }\r\n.padding-top-lg { padding-top: 1.5em; }\r\n.padding-top-xl { padding-top: 3em; }\r\n\r\n.padding-right-xs { padding-right: .25em; }\r\n.padding-right-sm { padding-right: .5em; }\r\n.padding-right-md { padding-right: 1em; }\r\n.padding-right-lg { padding-right: 1.5em; }\r\n.padding-right-xl { padding-right: 3em; }\r\n\r\n.padding-bottom-xs { padding-bottom: .25em; }\r\n.padding-bottom-sm { padding-bottom: .5em; }\r\n.padding-bottom-md { padding-bottom: 1em; }\r\n.padding-bottom-lg { padding-bottom: 1.5em; }\r\n.padding-bottom-xl { padding-bottom: 3em; }\r\n\r\n.padding-left-xs { padding-left: .25em; }\r\n.padding-left-sm { padding-left: .5em; }\r\n.padding-left-md { padding-left: 1em; }\r\n.padding-left-lg { padding-left: 1.5em; }\r\n.padding-left-xl { padding-left: 3em; }\r\n\r\n.margin-xs { margin: .25em; }\r\n.margin-sm { margin: .5em; }\r\n.margin-md { margin: 1em; }\r\n.margin-lg { margin: 1.5em; }\r\n.margin-xl { margin: 3em; }\r\n\r\n.margin-x-xs { margin: .25em 0; }\r\n.margin-x-sm { margin: .5em 0; }\r\n.margin-x-md { margin: 1em 0; }\r\n.margin-x-lg { margin: 1.5em 0; }\r\n.margin-x-xl { margin: 3em 0; }\r\n\r\n.margin-y-xs { margin: 0 .25em; }\r\n.margin-y-sm { margin: 0 .5em; }\r\n.margin-y-md { margin: 0 1em; }\r\n.margin-y-lg { margin: 0 1.5em; }\r\n.margin-y-xl { margin: 0 3em; }\r\n\r\n.margin-top-xs { margin-top: .25em; }\r\n.margin-top-sm { margin-top: .5em; }\r\n.margin-top-md { margin-top: 1em; }\r\n.margin-top-lg { margin-top: 1.5em; }\r\n.margin-top-xl { margin-top: 3em; }\r\n\r\n.margin-right-xs { margin-right: .25em; }\r\n.margin-right-sm { margin-right: .5em; }\r\n.margin-right-md { margin-right: 1em; }\r\n.margin-right-lg { margin-right: 1.5em; }\r\n.margin-right-xl { margin-right: 3em; }\r\n\r\n.margin-bottom-xs { margin-bottom: .25em; }\r\n.margin-bottom-sm { margin-bottom: .5em; }\r\n.margin-bottom-md { margin-bottom: 1em; }\r\n.margin-bottom-lg { margin-bottom: 1.5em; }\r\n.margin-bottom-xl { margin-bottom: 3em; }\r\n\r\n.margin-left-xs { margin-left: .25em; }\r\n.margin-left-sm { margin-left: .5em; }\r\n.margin-left-md { margin-left: 1em; }\r\n.margin-left-lg { margin-left: 1.5em; }\r\n.margin-left-xl { margin-left: 3em; }\r\n\r\n\r\n*/\n\n_s(FormView, \"SA6LnJw3RXzd9ecinJ4y/gnKRpk=\", false, function () {\n  return [useStyles, useWarnIfUnsavedChanges, useMuiPrinting];\n});\n\n_c = FormView;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormView\");","map":{"version":3,"sources":["C:/Users/armyj/Documents/GitHub/node_library/material-ui-forms/examples/src/components/FormView.tsx"],"names":["React","useEffect","useState","Backdrop","Box","Button","CircularProgress","createStyles","Divider","Grid","makeStyles","Paper","Snackbar","Typography","Lock","LockOpen","Alert","decrypt","encrypt","uuidv4","useWarnIfUnsavedChanges","AlertDialog","AlertDialogButton","PrintButton","useMuiPrinting","useStyles","theme","backdrop","zIndex","drawer","color","displayNone","display","marginOne","margin","marginLeftAuto","marginLeft","marginOneLeftAuto","paddingThree","padding","marginYThree","marginTop","marginBottom","submitButton","marginRight","width","fullWidth","FormView","props","localStorageKey","title","replace","classes","locked","setLocked","defaultLocked","undefined","hideLockButton","pendingChanges","setPendingChanges","loadLocal","setLoadLocal","loadServer","setLoadServer","autoHideDuration","alert","setAlert","open","message","origin","vertical","horizontal","error","severity","success","paperStyle","printComponentRef","printMode","displayPrint","handlePrintRef","loadData","localStorage","getItem","handleLoad","onChange","e","index","property","value","forms","onChangeList","listProperty","listIndex","handleAddList","length","handleChanges","handleDeleteList","filter","_","i","clearLocalStorage","handleLock","handleSaveChanges","handleLocalLoad","submit","cipherText","plainText","JSON","parse","handleLocalChanges","setItem","stringify","handleSubmit","minNodes","onNext","formValid","inputs","document","getElementsByTagName","input","hasAttribute","getAttribute","parent","parentElement","classList","add","inputParent","componentParent","firstElementChild","handleDelete","removeItem","handleCloseAlert","event","reason","hideSaveProgressButton","hidePrintButton","map","item","key","handleGenerateKey","FormElement","maxNodes","handleAddNewItem","submitButtonRef"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { Backdrop, Box, Button, CircularProgress, createStyles, Divider, Grid, makeStyles, Paper, Snackbar, SnackbarOrigin, Theme, Typography } from '@material-ui/core';\r\nimport { Lock, LockOpen } from '@material-ui/icons';\r\nimport { Alert, AlertProps } from '@material-ui/lab';\r\nimport { decrypt, encrypt, uuidv4 } from 'material-ui-forms';\r\nimport { IFormProps } from 'material-ui-forms';\r\nimport { AlertState } from 'material-ui-forms';\r\nimport { useWarnIfUnsavedChanges } from 'material-ui-forms';\r\nimport { AlertDialog } from 'material-ui-forms';\r\nimport { AlertDialogButton } from 'material-ui-forms';\r\nimport { PrintButton } from 'material-ui-forms';\r\nimport { useMuiPrinting } from 'material-ui-forms';\r\n\r\nexport interface IFormViewProps<T> {\r\n    title?: string;\r\n    forms?: T[];\r\n    defaultLocked?: boolean;\r\n    maxNodes?: number;\r\n    minNodes?: number;\r\n    FormElement?: (props: IFormProps<T>) => JSX.Element;\r\n    handleLoad?: (local: boolean, data?: T[]) => Promise<boolean>;\r\n    handleGenerateKey?: (item: T) => string;\r\n    handleSubmit?: () => Promise<boolean>;\r\n    handleAddNewItem?: () => Promise<void>;\r\n    handleSaveChanges?: () => Promise<boolean>;\r\n    handleDelete?: (index: number) => Promise<boolean>;\r\n    onNext?: () => Promise<void>;\r\n\r\n    submitButtonRef?: React.MutableRefObject<HTMLButtonElement>;\r\n    hideLockButton?: boolean;\r\n    hideSaveProgressButton?: boolean;\r\n    hidePrintButton?: boolean;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        backdrop: {\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: '#fff',\r\n        },\r\n        displayNone: {\r\n            display: \"none\"\r\n        },\r\n        marginOne: {\r\n            margin: \"0.25em\"\r\n        },\r\n        marginLeftAuto: {\r\n            marginLeft: \"auto\",\r\n        },\r\n        marginOneLeftAuto: {\r\n            margin: \"0.25em 0.25em 0.25em auto\"\r\n        },\r\n        paddingThree: {\r\n            padding: \"1em\"\r\n        },\r\n        marginYThree: {\r\n            marginTop: \"1em\",\r\n            marginBottom: \"1em\"\r\n        },\r\n        submitButton: {\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n            display: \"flex\",\r\n            width: \"50%\",\r\n            marginBottom: \"1em\"\r\n        },\r\n        fullWidth: {\r\n            width: \"100%\"\r\n        }\r\n    }),\r\n);\r\n\r\nexport function FormView<T>(props: IFormViewProps<T>) {\r\n    const localStorageKey = props.title ? props.title.replace(\" \", \"\") : uuidv4();\r\n    const classes = useStyles();\r\n    //const printComponentRef = useRef();\r\n    const [locked, setLocked] = useState(\r\n        props.defaultLocked === undefined ? false : (\r\n            props.defaultLocked ? (\r\n                props.hideLockButton ? false : true\r\n            ) : false\r\n        )\r\n    );\r\n    //const [printMode, setPrintMode] = useState(false);\r\n    const [pendingChanges, setPendingChanges] = useState(false);\r\n    const [loadLocal, setLoadLocal] = useState(false);\r\n    const [loadServer, setLoadServer] = useState(false);\r\n    const autoHideDuration = 8000;\r\n    const [alert, setAlert] = useState({\r\n        open: false,\r\n        message: \"\",\r\n        autoHideDuration: autoHideDuration,\r\n        origin: { vertical: \"bottom\", horizontal: \"right\" }\r\n    } as AlertState);\r\n    const error = {\r\n        open: true,\r\n        autoHideDuration: autoHideDuration,\r\n        severity: \"error\" as AlertProps['severity'],\r\n        origin: {\r\n            vertical: \"bottom\", horizontal: \"left\"\r\n        } as SnackbarOrigin\r\n    };\r\n    const success = {\r\n        open: true,\r\n        autoHideDuration: autoHideDuration,\r\n        severity: \"success\" as AlertProps['severity'],\r\n        origin: {\r\n            vertical: \"bottom\", horizontal: \"right\"\r\n        } as SnackbarOrigin\r\n    };\r\n\r\n    useWarnIfUnsavedChanges(pendingChanges);\r\n    const [paperStyle, printComponentRef, printMode, displayPrint, handlePrintRef] = useMuiPrinting();\r\n\r\n    useEffect(() => {\r\n        async function loadData() {\r\n            if (localStorage.getItem(localStorageKey)) {\r\n                setLoadLocal(true);\r\n            }\r\n            else {\r\n                setLoadServer(true);\r\n                props.handleLoad && await props.handleLoad(false);\r\n                setLoadServer(false);\r\n            }\r\n        }\r\n        loadData();\r\n    }, [])\r\n\r\n    const onChange = (e: ChangeEvent<HTMLInputElement | {}>, index: number, property: string, value: string | boolean) => {\r\n        if (locked) return;\r\n        if (props.forms)\r\n            props.forms[index] = { ...props.forms[index], [property]: value }\r\n        !pendingChanges && setPendingChanges(true);\r\n    }\r\n\r\n    const onChangeList = async (index: number, listProperty: string, listIndex: number, property: string, value: string | boolean) => {\r\n        if (locked) return;\r\n\r\n        // @ts-ignore\r\n        props.forms[index][listProperty][listIndex] = { ...props.forms[index][listProperty][listIndex], [property]: value }\r\n        !pendingChanges && setPendingChanges(true);\r\n    }\r\n\r\n    const handleAddList = async (index: number, listProperty: string) => {\r\n        if (locked) return;\r\n        // @ts-ignore\r\n        let listIndex = props.forms[index][listProperty].length;\r\n        // @ts-ignore\r\n        props.forms[index][listProperty][listIndex] = { ...props.forms[index][listProperty][listIndex], }\r\n        await handleChanges();\r\n    }\r\n\r\n    const handleDeleteList = async (index: number, listProperty: string, listIndex: number) => {\r\n        if (locked) return;\r\n        // @ts-ignore\r\n        props.forms[index][listProperty] = props.forms[index][listProperty].filter((_, i) => i !== listIndex);\r\n        await handleChanges();\r\n        clearLocalStorage();\r\n    }\r\n\r\n    const handleLock = async () => {\r\n        setLocked(!locked);\r\n    }\r\n\r\n    const handleChanges = async () => {\r\n        if (locked) return;\r\n\r\n        if (props.handleSaveChanges && await props.handleSaveChanges()) {\r\n            setAlert({ ...success, message: \"Successfully saved your changes locally.\" });\r\n            setPendingChanges(false);\r\n        }\r\n        else {\r\n            setAlert({ ...success, message: \"Unable to save your changes locally.\" });\r\n        }\r\n    }\r\n\r\n    const handleLocalLoad = async (submit?: boolean) => {\r\n        if (submit) {\r\n            var cipherText = localStorage.getItem(localStorageKey);\r\n            if (cipherText !== null) {\r\n                const plainText = decrypt(cipherText, localStorageKey);\r\n                if (props.handleLoad && await props.handleLoad(true, JSON.parse(plainText))) {\r\n                    setAlert({ ...success, message: \"Successfully loaded previous changes.\" })\r\n                }\r\n                else {\r\n                    setAlert({ ...error, message: \"Unable to load previous changes.\" })\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            clearLocalStorage();\r\n            setLoadServer(true);\r\n            if (props.handleLoad && await props.handleLoad(false)) {\r\n                setAlert({ ...success, message: \"Successfully loaded your information.\" })\r\n            }\r\n            else {\r\n                setAlert({ ...error, message: \"Unable to load your information.\" })\r\n            }\r\n            setLoadServer(false)\r\n        }\r\n        setLoadLocal(false);\r\n    }\r\n\r\n    const handleLocalChanges = async () => {\r\n        if (locked) return;\r\n        props.forms && localStorage.setItem(localStorageKey, encrypt(JSON.stringify([...props.forms]), localStorageKey))\r\n        handleChanges();\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        if (locked) return;\r\n\r\n        if (!pendingChanges) {\r\n            if (props.forms && props.minNodes && props.forms.length >= props.minNodes) {\r\n                props.onNext && props.onNext();\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (props.handleSubmit) {\r\n            if (!await formValid()) {\r\n                setAlert({ ...error, message: \"A validation error was detected in the form\" })\r\n            }\r\n            else if (await props.handleSubmit()) {\r\n                if (props.minNodes && props.forms && props.forms.length < props.minNodes) {\r\n                    setAlert({ ...error, message: props.minNodes <= 1 ? `${props.minNodes} submission is required` : `${props.minNodes} submissions are required` })\r\n                }\r\n                else {\r\n                    clearLocalStorage();\r\n                    setAlert({ ...success, message: \"Successfully sent changes to the server\" })\r\n                    setPendingChanges(false);\r\n                    props.onNext && await props.onNext();\r\n                }\r\n            }\r\n            else {\r\n                setAlert({ ...error, message: \"Unsuccessfully sent changes to the server\" })\r\n            }\r\n        }\r\n    }\r\n\r\n    const formValid = async () => {\r\n        const inputs = document.getElementsByTagName('input');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            const input = inputs[i];\r\n\r\n            if (input.hasAttribute('aria-invalid') && input.getAttribute('aria-invalid') === \"true\") {\r\n                const parent = input.parentElement;\r\n                if (parent)\r\n                    parent.classList.add('Mui-focused')\r\n                return false;\r\n            }\r\n\r\n            if ((input.hasAttribute('required') && input.value === \"\")) {\r\n                const inputParent = input.parentElement;\r\n                //Outer Div\r\n                if (inputParent) {\r\n                    inputParent.classList.add('Mui-focused', 'Mui-error')\r\n                    //Outer Label\r\n                    const componentParent = inputParent.parentElement;\r\n                    if (componentParent) {\r\n                        componentParent.firstElementChild?.classList.add('Mui-focused', 'Mui-error')\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const handleDelete = async (index: number) => {\r\n        if (locked) return;\r\n\r\n        if (props.handleDelete) {\r\n            if (await props.handleDelete(index)) {\r\n                clearLocalStorage();\r\n                setAlert({ ...success, message: \"Successfully deleted the item.\" })\r\n            }\r\n            else {\r\n                setAlert({ ...error, message: \"Unable to delete the item.\" })\r\n            }\r\n        }\r\n    }\r\n\r\n    function clearLocalStorage() {\r\n        if (localStorage.getItem(localStorageKey) !== null)\r\n            localStorage.removeItem(localStorageKey);\r\n    }\r\n\r\n    const handleCloseAlert = (event: React.SyntheticEvent | React.MouseEvent, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setAlert({ ...alert, open: false });\r\n    }\r\n\r\n    if (loadLocal) {\r\n        return (\r\n            <AlertDialog\r\n                id=\"loadingLocal\"\r\n                title=\"Would you like to load your previous session?\"\r\n                description=\"Selecting Cancel will remove your previous session.\"\r\n                color=\"primary\"\r\n                backLabel=\"Cancel\"\r\n                forwardLabel=\"Continue\"\r\n                onSubmit={handleLocalLoad}\r\n                backOnOutsideClick={false}\r\n            />\r\n        )\r\n    }\r\n    else if (loadServer) {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <CircularProgress color=\"primary\" />\r\n            </Backdrop>\r\n        )\r\n    }\r\n    else {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n            <Grid>\r\n\r\n                {/* Alert Snackbar */}\r\n                <Snackbar\r\n                    open={alert.open}\r\n                    autoHideDuration={alert.autoHideDuration}\r\n                    onClose={handleCloseAlert}\r\n                    anchorOrigin={alert.origin}\r\n                >\r\n                    <Alert severity={alert.severity}>\r\n                        {alert.message}\r\n                    </Alert>\r\n                </Snackbar>\r\n\r\n                {/* Button Group */}\r\n                <Box p={1} display=\"flex\" flexWrap=\"wrap\" justifyContent=\"space-between\">\r\n                    <AlertDialogButton\r\n                        id=\"refreshForm\"\r\n                        className={props.hideLockButton ? classes.displayNone : \"\"}\r\n                        label={locked ? <Lock color=\"primary\" /> : <LockOpen color=\"primary\" />}\r\n                        title={locked ? \"Unlock this form\" : \"Lock this form\"}\r\n                        description={locked ? \"Unlocking this form will allow you to make changes.\" : \"Lock this form to prevent unwanted changes.\"}\r\n                        color=\"primary\"\r\n                        backLabel=\"Cancel\"\r\n                        forwardLabel={locked ? \"Unlock\" : \"Lock\"}\r\n                        onSubmit={handleLock}\r\n                    />\r\n                    <Box display=\"flex\">\r\n                        <AlertDialogButton\r\n                            id=\"saveForm\"\r\n                            className={locked || props.hideSaveProgressButton ? classes.displayNone : \"\"}\r\n                            label=\"Save Progress\"\r\n                            title=\"You have selected to save your current process locally.\"\r\n                            description=\"Warning: If you have local storage disabled then your changes \r\n                                will not be saved and deleting your local storage will erase this data.\"\r\n                            color=\"primary\"\r\n                            backLabel=\"Cancel\"\r\n                            forwardLabel=\"Save Locally\"\r\n                            onSubmit={handleLocalChanges}\r\n                            disabled={props.handleSaveChanges === undefined}\r\n                        />\r\n                        <Box ml={1}>\r\n                            <PrintButton\r\n                                className={locked || props.hidePrintButton ? classes.displayNone : \"\"}\r\n                                displayPrint={displayPrint}\r\n                            />\r\n                        </Box>\r\n                    </Box>\r\n                </Box>\r\n\r\n\r\n\r\n                <Paper className={printMode ? \"\" : classes.paddingThree} ref={printComponentRef} style={printMode ? paperStyle : {}}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h3\" align=\"center\">{props.title}</Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <Divider className={classes.marginYThree} />\r\n                    </Grid>\r\n\r\n                    <Grid container spacing={3}>\r\n\r\n                        {/* Forms */}\r\n                        <Grid item xs={12}>\r\n                            {props.forms && props.forms.map((item: any, index: number) => {\r\n                                const key = props.handleGenerateKey ? props.handleGenerateKey(item) : `${localStorageKey}${index}`\r\n                                if (props.FormElement) {\r\n                                    return (\r\n                                        <props.FormElement\r\n                                            key={key}\r\n                                            index={index}\r\n                                            locked={locked}\r\n                                            printMode={printMode}\r\n                                            values={item}\r\n                                            handleAddList={handleAddList}\r\n                                            handleDelete={handleDelete}\r\n                                            handleDeleteList={handleDeleteList}\r\n                                            handlePrintRef={handlePrintRef}\r\n                                            onChangeList={onChangeList}\r\n                                            onChange={onChange}\r\n                                        />\r\n                                    )\r\n                                }\r\n                                else {\r\n                                    return (<></>)\r\n                                }\r\n                            })}\r\n                            {props.forms && props.forms.length < 1 &&\r\n                                <Grid>\r\n                                    <Typography align=\"center\" className={classes.paddingThree}>There are currently no forms to edit.</Typography>\r\n                                </Grid>\r\n                            }\r\n                            {!props.FormElement && <Grid><Typography align=\"center\" className={classes.paddingThree}>Development Error: Form Element is not defined.</Typography></Grid>}\r\n                            {!props.forms && <Grid><Typography align=\"center\" className={classes.paddingThree}>Development Error: Forms is not defined</Typography></Grid>}\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            {props.forms && props.forms.length < (props.maxNodes ? props.maxNodes : 1) && (\r\n                                <Grid container>\r\n                                    <Button\r\n                                        className={!locked ? classes.marginLeftAuto : classes.displayNone}\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        onClick={props.handleAddNewItem}\r\n                                    >Add New Item</Button>\r\n                                </Grid>\r\n                            )}\r\n                            <Divider style={{}} />\r\n                        </Grid>\r\n\r\n                        {/* Bottom Submit Button */}\r\n                        <Grid item xs={12} style={locked || props.submitButtonRef ? { display: \"none\" } : {}}>\r\n                            <Grid container>\r\n                                <AlertDialogButton\r\n                                    submitButtonRef={props.submitButtonRef}\r\n                                    id=\"saveForm\"\r\n                                    className={classes.submitButton}\r\n                                    btnStyle={{ width: \"100%\" }}\r\n                                    label=\"Submit\"\r\n                                    title=\"You have selected to submit your information.\"\r\n                                    description=\"This action will save this information to your user account.\"\r\n                                    color=\"primary\"\r\n                                    backLabel=\"Cancel\"\r\n                                    forwardLabel=\"Submit\"\r\n                                    onSubmit={handleSubmit}\r\n                                    disabled={props.handleSubmit === undefined || locked}\r\n                                    pendingChanges={pendingChanges}\r\n                                    allowSkip={true}\r\n                                />\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n                </Paper>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n\r\n/*\r\n.padding-xs { padding: .25em; }\r\n.padding-sm { padding: .5em; }\r\n.padding-md { padding: 1em; }\r\n.padding-lg { padding: 1.5em; }\r\n.padding-xl { padding: 3em; }\r\n\r\n.padding-x-xs { padding: .25em 0; }\r\n.padding-x-sm { padding: .5em 0; }\r\n.padding-x-md { padding: 1em 0; }\r\n.padding-x-lg { padding: 1.5em 0; }\r\n.padding-x-xl { padding: 3em 0; }\r\n\r\n.padding-y-xs { padding: 0 .25em; }\r\n.padding-y-sm { padding: 0 .5em; }\r\n.padding-y-md { padding: 0 1em; }\r\n.padding-y-lg { padding: 0 1.5em; }\r\n.padding-y-xl { padding: 0 3em; }\r\n\r\n.padding-top-xs { padding-top: .25em; }\r\n.padding-top-sm { padding-top: .5em; }\r\n.padding-top-md { padding-top: 1em; }\r\n.padding-top-lg { padding-top: 1.5em; }\r\n.padding-top-xl { padding-top: 3em; }\r\n\r\n.padding-right-xs { padding-right: .25em; }\r\n.padding-right-sm { padding-right: .5em; }\r\n.padding-right-md { padding-right: 1em; }\r\n.padding-right-lg { padding-right: 1.5em; }\r\n.padding-right-xl { padding-right: 3em; }\r\n\r\n.padding-bottom-xs { padding-bottom: .25em; }\r\n.padding-bottom-sm { padding-bottom: .5em; }\r\n.padding-bottom-md { padding-bottom: 1em; }\r\n.padding-bottom-lg { padding-bottom: 1.5em; }\r\n.padding-bottom-xl { padding-bottom: 3em; }\r\n\r\n.padding-left-xs { padding-left: .25em; }\r\n.padding-left-sm { padding-left: .5em; }\r\n.padding-left-md { padding-left: 1em; }\r\n.padding-left-lg { padding-left: 1.5em; }\r\n.padding-left-xl { padding-left: 3em; }\r\n\r\n.margin-xs { margin: .25em; }\r\n.margin-sm { margin: .5em; }\r\n.margin-md { margin: 1em; }\r\n.margin-lg { margin: 1.5em; }\r\n.margin-xl { margin: 3em; }\r\n\r\n.margin-x-xs { margin: .25em 0; }\r\n.margin-x-sm { margin: .5em 0; }\r\n.margin-x-md { margin: 1em 0; }\r\n.margin-x-lg { margin: 1.5em 0; }\r\n.margin-x-xl { margin: 3em 0; }\r\n\r\n.margin-y-xs { margin: 0 .25em; }\r\n.margin-y-sm { margin: 0 .5em; }\r\n.margin-y-md { margin: 0 1em; }\r\n.margin-y-lg { margin: 0 1.5em; }\r\n.margin-y-xl { margin: 0 3em; }\r\n\r\n.margin-top-xs { margin-top: .25em; }\r\n.margin-top-sm { margin-top: .5em; }\r\n.margin-top-md { margin-top: 1em; }\r\n.margin-top-lg { margin-top: 1.5em; }\r\n.margin-top-xl { margin-top: 3em; }\r\n\r\n.margin-right-xs { margin-right: .25em; }\r\n.margin-right-sm { margin-right: .5em; }\r\n.margin-right-md { margin-right: 1em; }\r\n.margin-right-lg { margin-right: 1.5em; }\r\n.margin-right-xl { margin-right: 3em; }\r\n\r\n.margin-bottom-xs { margin-bottom: .25em; }\r\n.margin-bottom-sm { margin-bottom: .5em; }\r\n.margin-bottom-md { margin-bottom: 1em; }\r\n.margin-bottom-lg { margin-bottom: 1.5em; }\r\n.margin-bottom-xl { margin-bottom: 3em; }\r\n\r\n.margin-left-xs { margin-left: .25em; }\r\n.margin-left-sm { margin-left: .5em; }\r\n.margin-left-md { margin-left: 1em; }\r\n.margin-left-lg { margin-left: 1.5em; }\r\n.margin-left-xl { margin-left: 3em; }\r\n\r\n\r\n*/"]},"metadata":{},"sourceType":"module"}